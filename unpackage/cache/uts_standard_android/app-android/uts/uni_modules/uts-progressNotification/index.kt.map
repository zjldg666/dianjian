{"version":3,"sources":["uni_modules/uts-progressNotification/utssdk/app-android/TransparentActivity.uts","uni_modules/uts-progressNotification/utssdk/app-android/index.uts","uni_modules/uts-progressNotification/utssdk/interface.uts","uni_modules/uts-progressNotification/utssdk/app-android/constant.uts","uni_modules/uts-progressNotification/utssdk/app-android/callbacks.uts"],"sourcesContent":["import Activity from \"android.app.Activity\";\r\nimport Bundle from 'android.os.Bundle';\r\nimport Build from 'android.os.Build';\r\nimport View from 'android.view.View';\r\nimport Color from 'android.graphics.Color';\r\nimport WindowManager from 'android.view.WindowManager';\r\nimport { getGlobalNotificationProgressCallBack, getGlobalNotificationProgressFinishCallBack, setGlobalNotificationProgressCallBack, setGlobalNotificationProgressFinishCallBack} from './callbacks.uts';\r\nimport { ACTION_DOWNLOAD_FINISH, ACTION_DOWNLOAD_PROGRESS } from \"./constant.uts\"\r\n\r\n\r\nexport class TransparentActivity extends Activity {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t}\r\n\r\n  @Suppress(\"DEPRECATION\")\r\n\toverride onCreate(savedInstanceState : Bundle | null) {\r\n\t\tsuper.onCreate(savedInstanceState)\r\n\t\tthis.fullScreen(this)\r\n\t\tconst action = this.getIntent().getAction()\r\n\t\tif (action == ACTION_DOWNLOAD_FINISH) {\r\n\t\t\tsetTimeout(() => {\r\n        getGlobalNotificationProgressFinishCallBack()?.()\r\n        setGlobalNotificationProgressFinishCallBack(() => { })\r\n\t\t\t}, 100)\r\n\t\t\tthis.overridePendingTransition(0, 0)\r\n\t\t}\r\n\r\n\t\tif (action == ACTION_DOWNLOAD_PROGRESS) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tgetGlobalNotificationProgressCallBack()?.()\r\n        setGlobalNotificationProgressCallBack(() => { })\r\n\t\t\t}, 100)\r\n\t\t\tthis.overridePendingTransition(0, 0)\r\n\t\t}\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.finish()\r\n\t\t}, 20)\r\n\t}\r\n\r\n\r\n\t@Suppress(\"DEPRECATION\")\r\n\tprivate fullScreen(activity : Activity) {\r\n\t\tif (Build.VERSION.SDK_INT >= 19) {\r\n\t\t\tif (Build.VERSION.SDK_INT >= 21) {\r\n\t\t\t\tconst window = activity.getWindow();\r\n\t\t\t\tconst decorView = window.getDecorView();\r\n\t\t\t\tconst option = View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE;\r\n\t\t\t\tdecorView.setSystemUiVisibility(option);\r\n\t\t\t\twindow.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n\t\t\t\twindow.setStatusBarColor(Color.TRANSPARENT);\r\n\t\t\t} else {\r\n\t\t\t\tconst window = activity.getWindow();\r\n\t\t\t\tconst attributes = window.getAttributes();\r\n\t\t\t\tconst flagTranslucentStatus = WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS;\r\n\t\t\t\tattributes.flags |= flagTranslucentStatus;\r\n\t\t\t\twindow.setAttributes(attributes);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n","import Build from 'android.os.Build';\r\nimport Context from 'android.content.Context';\r\nimport NotificationManager from 'android.app.NotificationManager';\r\nimport NotificationChannel from 'android.app.NotificationChannel';\r\nimport Notification from 'android.app.Notification';\r\nimport Intent from 'android.content.Intent';\r\nimport ComponentName from 'android.content.ComponentName';\r\nimport PendingIntent from 'android.app.PendingIntent';\r\nimport { CreateNotificationProgressOptions, FinishNotificationProgressOptions } from '../interface.uts';\r\nimport { ACTION_DOWNLOAD_FINISH, ACTION_DOWNLOAD_PROGRESS } from \"./constant.uts\"\r\n\r\nimport { setGlobalNotificationProgressCallBack, setGlobalNotificationProgressFinishCallBack } from './callbacks.uts';\r\n\r\nexport { TransparentActivity } from './TransparentActivity.uts';\r\n\r\n\r\nconst DOWNLOAD_PROGRESS_NOTIFICATION_ID : Int = 7890\r\nconst DC_DOWNLOAD_CHANNEL_ID = \"下载文件\"\r\nconst DC_DOWNLOAD_CHANNEL_NAME = \"用于显示现在进度的渠道\"\r\n\r\n\r\nlet notificationBuilder : Notification.Builder | null = null\r\n\r\nlet timeId = -1\r\n\r\nlet histroyProgress = 0\r\n\r\nlet isProgress = false\r\n\r\n\r\n\r\nexport function createNotificationProgress(options : CreateNotificationProgressOptions) : void {\r\n\tconst { content, progress, onClick } = options\r\n\r\n\tif (progress == 100) {\r\n\t\tclearTimeout(timeId)\r\n\t\tconst context = UTSAndroid.getAppContext() as Context\r\n\t\trealCreateNotificationProgress(options.title ?? getAppName(context), content, progress, onClick)\r\n\t\treset()\r\n\t\treturn\r\n\t}\r\n\r\n\thistroyProgress = progress\r\n\tif (timeId != -1) {\r\n\t\treturn\r\n\t}\r\n\r\n\tconst context = UTSAndroid.getAppContext() as Context\r\n\tif (!isProgress) {\r\n\t\trealCreateNotificationProgress(options.title ?? getAppName(context), content, histroyProgress, onClick)\r\n\t\tisProgress = true\r\n\t} else {\r\n\t\ttimeId = setTimeout(() => {\r\n\t\t\trealCreateNotificationProgress(options.title ?? getAppName(context), content, histroyProgress, onClick)\r\n\t\t\ttimeId = -1\r\n\t\t}, 1000)\r\n\t}\r\n}\r\n\r\n\r\nexport function cancelNotificationProgress() : void {\r\n\tconst context = UTSAndroid.getAppContext() as Context\r\n\tconst notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n\tnotificationManager.cancel(DOWNLOAD_PROGRESS_NOTIFICATION_ID)\r\n\treset()\r\n}\r\n\r\n\r\nfunction realCreateNotificationProgress(title : string, content : string, progress : number, cb : (() => void) | null) : void {\r\n  setGlobalNotificationProgressCallBack(cb)\r\n\tconst context = UTSAndroid.getAppContext() as Context\r\n\tconst notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n\tcreateDownloadChannel(notificationManager)\r\n\tconst builder = createNotificationBuilder(context)\r\n\tbuilder.setProgress(100, progress.toInt(), false)\r\n\tbuilder.setContentTitle(title)\r\n\tbuilder.setContentText(content)\r\n\tbuilder.setContentIntent(createPendingIntent(context, ACTION_DOWNLOAD_PROGRESS));\r\n\tnotificationManager.notify(DOWNLOAD_PROGRESS_NOTIFICATION_ID, builder.build())\r\n}\r\n\r\n\r\nexport function finishNotificationProgress(options : FinishNotificationProgressOptions) {\r\n  setGlobalNotificationProgressFinishCallBack(options.onClick)\r\n\tconst context = UTSAndroid.getAppContext() as Context\r\n\tconst notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\r\n\tcreateDownloadChannel(notificationManager)\r\n\tconst builder = createNotificationBuilder(context)\r\n\tbuilder.setProgress(0, 0, false)\r\n\tbuilder.setContentTitle(options.title ?? getAppName(context))\r\n\tbuilder.setContentText(options.content)\r\n\t//小米rom setOngoing未false的时候，会被通知管理器归为不重要通知\r\n\t// builder.setOngoing(false)\r\n\tbuilder.setAutoCancel(true);\r\n\tbuilder.setContentIntent(createPendingIntent(context, ACTION_DOWNLOAD_FINISH));\r\n\tnotificationManager.notify(DOWNLOAD_PROGRESS_NOTIFICATION_ID, builder.build())\r\n\treset()\r\n}\r\n\r\nfunction reset() {\r\n\tisProgress = false\r\n\tnotificationBuilder = null\r\n\thistroyProgress = 0\r\n\tif (timeId != -1) {\r\n\t\tclearTimeout(timeId)\r\n\t\ttimeId = -1\r\n\t}\r\n}\r\n\r\nfunction createPendingIntent(context : Context, action : string) : PendingIntent {\r\n\tconst intent = new Intent(action);\r\n\tintent.setComponent(new ComponentName(context.getPackageName(), \"uts.sdk.modules.utsProgressNotification.TransparentActivity\"));\r\n\tlet flags = PendingIntent.FLAG_UPDATE_CURRENT;\r\n\tif (Build.VERSION.SDK_INT >= 23) {\r\n\t\tflags = PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE;\r\n\t}\r\n\treturn PendingIntent.getActivity(context, DOWNLOAD_PROGRESS_NOTIFICATION_ID, intent, flags);\r\n}\r\n\r\nfunction createDownloadChannel(notificationManager : NotificationManager) {\r\n\tif (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {\r\n\t\tconst channel = new NotificationChannel(\r\n\t\t\tDC_DOWNLOAD_CHANNEL_ID,\r\n\t\t\tDC_DOWNLOAD_CHANNEL_NAME,\r\n\t\t\tNotificationManager.IMPORTANCE_LOW\r\n\t\t)\r\n\t\tnotificationManager.createNotificationChannel(channel)\r\n\t}\r\n}\r\n@Suppress(\"DEPRECATION\")\r\nfunction createNotificationBuilder(context : Context) : Notification.Builder {\r\n\tif (notificationBuilder == null) {\r\n\t\tif (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {\r\n\t\t\tnotificationBuilder = new Notification.Builder(context, DC_DOWNLOAD_CHANNEL_ID)\r\n\t\t} else {\r\n\t\t\tnotificationBuilder = new Notification.Builder(context)\r\n\t\t}\r\n\t\tnotificationBuilder!.setSmallIcon(context.getApplicationInfo().icon)\r\n\t\tnotificationBuilder!.setOngoing(true)\r\n\t\tnotificationBuilder!.setSound(null)\r\n\t}\r\n\treturn notificationBuilder!\r\n}\r\n\r\n@Suppress(\"DEPRECATION\")\r\nfunction getAppName(context : Context) : string {\r\n\tlet appName = \"\"\r\n\ttry {\r\n\t\tconst packageManager = context.getPackageManager()\r\n\t\tconst applicationInfo = packageManager.getApplicationInfo(context.getPackageName(), 0)\r\n\t\tappName = packageManager.getApplicationLabel(applicationInfo) as string\r\n\t} catch (e : Exception) {\r\n\t\te.printStackTrace()\r\n\t}\r\n\treturn appName\r\n}\r\n","export type CreateNotificationProgressOptions = {\r\n\t/**\r\n\t * 通知标题\r\n\t * @defaultValue 应用名称\r\n\t */\r\n\ttitle ?: string | null\r\n\t/**\r\n\t * 通知内容\r\n\t */\r\n\tcontent : string,\r\n\t/**\r\n\t * 进度\r\n\t */\r\n\tprogress : number,\r\n\t/**\r\n\t * 点击通知消息回调\r\n\t * @defaultValue null\r\n\t */\r\n\tonClick? : (() => void) | null\r\n}\r\n\r\n\r\nexport type FinishNotificationProgressOptions = {\r\n\t/**\r\n\t * 通知标题\r\n\t * @defaultValue 应用名称\r\n\t */\r\n\ttitle ?: string | null\r\n\t/**\r\n\t * 通知内容\r\n\t */\r\n\tcontent : string,\r\n\t/**\r\n\t * 点击通知消息回调\r\n\t */\r\n\tonClick : () => void\r\n}\r\n\r\n\r\nexport type CreateNotificationProgress = (options : CreateNotificationProgressOptions) => void;\r\n\r\n\r\nexport type CancelNotificationProgress = () => void;\r\n\r\n\r\nexport type FinishNotificationProgress = (options: FinishNotificationProgressOptions) => void\r\n","export const ACTION_DOWNLOAD_FINISH = \"ACTION_DOWNLOAD_FINISH\"\r\nexport const ACTION_DOWNLOAD_PROGRESS = \"ACTION_DOWNLOAD_PROGRESS\"","let globalNotificationProgressCallBack : (() => void) | null = () => { }\r\nlet globalNotificationProgressFinishCallBack : (() => void) | null = () => { }\r\n\r\nexport function setGlobalNotificationProgressCallBack(callBack : (() => void) | null) : void {\r\n  globalNotificationProgressCallBack = callBack\r\n}\r\n\r\nexport function getGlobalNotificationProgressCallBack() : (() => void) | null {\r\n  return globalNotificationProgressCallBack\r\n}\r\n\r\n\r\nexport function setGlobalNotificationProgressFinishCallBack(callBack : (() => void) | null) : void {\r\n  globalNotificationProgressFinishCallBack = callBack\r\n}\r\n\r\nexport function getGlobalNotificationProgressFinishCallBack() : (() => void) | null {\r\n  return globalNotificationProgressFinishCallBack\r\n}\r\n"],"names":[],"mappings":"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"}