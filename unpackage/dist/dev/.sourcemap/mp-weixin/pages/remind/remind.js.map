{"version":3,"file":"remind.js","sources":["pages/remind/remind.vue","../../../../Download/HBuilder-alpha/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcmVtaW5kL3JlbWluZC52dWU"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <navbar :username=\"username\" @logout=\"logout\"/>\r\n    <view class=\"content\">\r\n      <button-group :buttons=\"Menubuttons\"/>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from '@/components/Navbar.vue';\r\nimport ButtonGroup from '@/components/ButtonGroup.vue';\r\n\r\nexport default {\r\n  components: {\r\n    Navbar,\r\n    ButtonGroup\r\n  },\r\n  data() {\r\n    return {\r\n      username: uni.getStorageSync('username') || '',\r\n      Menubuttons: []\r\n    };\r\n  },\r\n  methods: {\r\n    navigateToException(exception) {\r\n      const token = uni.getStorageSync('token');\r\n\t  console.log(exception);\r\n      console.log('Navigating to YIChang with ID:', exception.SEL_TXT, 'and Token:', token); // 添加日志\r\n      if (!token) {\r\n        uni.showToast({\r\n          title: '未登录，请先登录',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      const url = `/pages/YiChang/YiChang?id=${encodeURIComponent(exception.SEL_TXT)}&token=${encodeURIComponent(token)}&selShuoMing=${exception.SEL_ShuoMing}`;\r\n      console.log('Navigating to:', url); // 添加日志以查看完整的 URL\r\n      uni.navigateTo({\r\n        url\r\n      });\r\n    },\r\n    logout() {\r\n      uni.removeStorageSync('username');\r\n      uni.redirectTo({\r\n        url: '/pages/login/login'\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    const exceptionsStr = uni.getStorageSync('exceptions'); // 从本地存储读取 exceptions\r\n    if (exceptionsStr) {\r\n      try {\r\n        const exceptions = JSON.parse(exceptionsStr);\r\n        console.log('Parsed Exceptions:', exceptions); // 添加日志\r\n        this.Menubuttons = exceptions.map(exception => ({\r\n          label: exception.SEL_ShuoMing,\r\n          action: () => this.navigateToException(exception), // 使用新的 navigateToException 方法\r\n          disabled: false,\r\n          badge: exception.num > 0 ? exception.num.toString() : '',\r\n\t\t  image:'../../static/icon/DJxiangmu.png'\r\n        }));\r\n      } catch (error) {\r\n        console.error('解析 exceptions 失败', error);\r\n      }\r\n      uni.removeStorageSync('exceptions'); // 清除已使用的 exceptions 数据\r\n    } else {\r\n      console.error('未找到 exceptions 参数');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100vh;\r\n  background-color: white;\r\n}\r\n\r\n.content {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 40rpx;\r\n}\r\n</style>\r\n\r\n\r\n\r\n","import MiniProgramPage from 'D:/Project/HBuilderProjects/dianjianHmS/dianjian02/pages/remind/remind.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAUA,MAAK,SAAU,MAAW;AAC1B,oBAAoB,MAAW;AAE/B,MAAK,YAAU;AAAA,EACb,YAAY;AAAA,IACV;AAAA,IACA;AAAA,EACD;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,UAAUA,cAAG,MAAC,eAAe,UAAU,KAAK;AAAA,MAC5C,aAAa,CAAC;AAAA;EAEjB;AAAA,EACD,SAAS;AAAA,IACP,oBAAoB,WAAW;AAC7B,YAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AAC3CA,oBAAAA,MAAY,MAAA,OAAA,iCAAA,SAAS;AAClBA,0BAAA,MAAA,OAAA,iCAAY,kCAAkC,UAAU,SAAS,cAAc,KAAK;AACpF,UAAI,CAAC,OAAO;AACVA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,MAAM;AAAA,QACR,CAAC;AACD;AAAA,MACF;AACA,YAAM,MAAM,6BAA6B,mBAAmB,UAAU,OAAO,CAAC,UAAU,mBAAmB,KAAK,CAAC,gBAAgB,UAAU,YAAY;AACvJA,oBAAY,MAAA,MAAA,OAAA,iCAAA,kBAAkB,GAAG;AACjCA,oBAAAA,MAAI,WAAW;AAAA,QACb;AAAA,MACF,CAAC;AAAA,IACF;AAAA,IACD,SAAS;AACPA,0BAAI,kBAAkB,UAAU;AAChCA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK;AAAA,MACP,CAAC;AAAA,IACH;AAAA,EACD;AAAA,EACD,UAAU;AACR,UAAM,gBAAgBA,cAAAA,MAAI,eAAe,YAAY;AACrD,QAAI,eAAe;AACjB,UAAI;AACF,cAAM,aAAa,KAAK,MAAM,aAAa;AAC3CA,sBAAY,MAAA,MAAA,OAAA,iCAAA,sBAAsB,UAAU;AAC5C,aAAK,cAAc,WAAW,IAAI,gBAAc;AAAA,UAC9C,OAAO,UAAU;AAAA,UACjB,QAAQ,MAAM,KAAK,oBAAoB,SAAS;AAAA;AAAA,UAChD,UAAU;AAAA,UACV,OAAO,UAAU,MAAM,IAAI,UAAU,IAAI,SAAQ,IAAK;AAAA,UAC5D,OAAM;AAAA,QACD,EAAC;AAAA,MACF,SAAO,OAAO;AACdA,sBAAc,MAAA,MAAA,SAAA,iCAAA,oBAAoB,KAAK;AAAA,MACzC;AACAA,0BAAI,kBAAkB,YAAY;AAAA,WAC7B;AACLA,oBAAAA,MAAc,MAAA,SAAA,iCAAA,mBAAmB;AAAA,IACnC;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;ACrEA,GAAG,WAAW,eAAe;"}